<!DOCTYPE html>
<html>
    <head>
        <title>MercaFacil - Pagina de producto</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/css/styles.css">
        <link rel="stylesheet" href="/css/edit.css">  
        <link rel="stylesheet" href="/css/normalize.css">
        <link rel="icon" data-head-react="true" href="/images/logo-banner.png">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" rel="stylesheet">
        <script type="text/javascript" src="/js/scripts.js"></script>
        
    </head>
    <body>
        <%- include('./partials/header.ejs', {title: 'product.name'}) -%>
        <div class="sub-header">
            <h2>Edición Producto</h2>
        </div>
        <main>

	<div class="detalle-producto">

			<form action="/products/edit/<%=products.id%>" method="POST">		
				<div class="contenido-detalle-producto">
					<div class="contenido-detalle-producto">
						<label for="name" class="form-label">Nombre del producto:</label>
						<div id="inputNameContainer">
							<input type="text" id="name" name="name" value="<%=products.name%>" placeholder="Eje: Caminador" class="form-input">
						</div>
					</div>
					<div>
						<label for="price" class="form-label">Precio del producto:</label>
						<input type="text" id="price" name="price" value="<%=products.price%>" placeholder="Eje: 50000" class="form-input" >
					</div>
					<div>
						<label for="category" class="form-label">Categoría:</label>
						<select name="category" id="category" class="form-input">
							<% for (let i = 0; i < categories.length; i++ ){ %>
                
								<% if (categories[i].id == products.category_id) { %>
									<option value="<%=categories[i].id%>" selected>
										<%=categories[i].name%>
									</option>  
								<% } else { %>
									<option value="<%=categories[i].id%>">
										<%=categories[i].name%>
									</option>  
								<% } %>                  
								
							<% } %>  
						</select>
					</div>
						<label for="description" class="form-label">Descripción:</label>
						<div id="descriptionContainer">
							<textarea name="description" id="description" class="form-input"><%= products.description %></textarea>
						</div>
					</div>
					<div class="contenido-detalle-producto">
						<label for="name" class="form-label">Cantidad:</label>
						<input type="text" id="quantity" name="quantity" value="<%=products.quantity%>" class="form-input">
					</div>
					<div>
						<label class="form-label">Cargar Imagen:</label><br>
						<div>					
                        	<input type="file" name="image" value="<%=products.image%>" id="image">
						</div>
					<div>
						<input type="submit" value="GUARDAR" id="guardar" class="button">
					</div>
				</div>
			</form>
    </div>
        </main>

		<script src="/js/modifyProductValidations.js"></script>
</body>

<%- include('./partials/footer')-%>
</html>